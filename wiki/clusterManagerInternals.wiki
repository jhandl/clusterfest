#summary Internals of the ClusterManager

[home]

http://opensource.flaptor.com/clusterfest/images/logo.png

= Internals of the !ClusterManager =

To be able to add new functionality, you have to understand the !ClusterManager. At all times the ClusterManager has a representation of the cluster in its memory. This is a list of *node descriptors*,each holding the information of its corresponding node:

http://clusterfest.googlecode.com/files/nodeDescriptors.png

These node descriptors know the host and port where the corresponding node listener is listening, what type of node it is, and other information. They also know if that node is reachable or not. Suppose that Node 1 is not responding, the node descriptor 1 will be marked as *unreachable*:

http://clusterfest.googlecode.com/files/nodeUnreachable.png

The cluster manager maintains a representation of the cluster and knows when nodes are fallen, but that alone is not very useful. Functionality in clusterfest is added through *modules*, which are contained also in the clustermanager:

http://clusterfest.googlecode.com/files/modules.png

Modules can access the node descriptor list of the cluster manager and all of it properties. However, some modules will not be interested in all the nodes, but only some of them. So modules will maintain another list of nodes: the ones that are of interest to the module. This is a list of *module node descriptors*. i.e.: the controller module will have a list of controller node descriptors.

http://clusterfest.googlecode.com/files/moduleNodeDescriptors.png

[home]